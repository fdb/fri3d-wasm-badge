; PlatformIO Project Configuration File
; Fri3d Badge Firmware
;
; Build: pio run
; Upload: pio run --target upload
; Monitor: pio device monitor

[env:esp32s3]
platform = espressif32
board = esp32-s3-devkitc-1
framework = espidf

; ESP32-S3-WROOM-1 with 16MB Flash and OPI PSRAM
board_build.flash_size = 16MB
board_build.psram_type = opi
board_upload.flash_size = 16MB

; Partition table with space for apps on SD card or SPIFFS
; Using default partition for now - customize later
board_build.partitions = default.csv

; Build flags
build_flags =
    -DCONFIG_SPIRAM_MODE_OCT=1
    -DCONFIG_SPIRAM_SPEED_80M=1
    -DBOARD_HAS_PSRAM
    ; u8g2 configuration
    -DU8X8_USE_PINS
    ; WAMR configuration
    -DWASM_ENABLE_INTERP=1
    -DWASM_ENABLE_FAST_INTERP=1
    -DWASM_ENABLE_LIBC_BUILTIN=1

; Library dependencies
lib_deps =
    olikraus/U8g2@^2.35.9
    ; WAMR needs to be added as a custom library - see lib/ folder

; Monitor settings
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Upload settings
upload_speed = 921600
